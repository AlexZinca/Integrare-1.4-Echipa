<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.4 CONTRACTELE</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      33% { transform: translateY(-20px) rotate(120deg); }
      66% { transform: translateY(-10px) rotate(240deg); }
    }
    
    @keyframes sparkle {
      0%, 100% { 
        opacity: 0; 
        transform: scale(0) rotate(0deg); 
      }
      50% { 
        opacity: 1; 
        transform: scale(1) rotate(180deg); 
      }
    }
    
    @keyframes pulse {
      0%, 100% { 
        opacity: 0.4; 
        transform: scale(0.8); 
      }
      50% { 
        opacity: 0.8; 
        transform: scale(1.2); 
      }
    }
    
    @keyframes drift {
      0% { transform: translate(0, 0) rotate(0deg); }
      25% { transform: translate(50px, -30px) rotate(90deg); }
      50% { transform: translate(-30px, -60px) rotate(180deg); }
      75% { transform: translate(-60px, -20px) rotate(270deg); }
      100% { transform: translate(0, 0) rotate(360deg); }
    }
    
    @keyframes searchGlow {
      0%, 100% {
        box-shadow: 
          0 0 20px rgba(255, 147, 79, 0.3),
          0 0 40px rgba(255, 147, 79, 0.1),
          inset 0 1px 0 rgba(255, 255, 255, 0.2);
      }
      50% {
        box-shadow: 
          0 0 30px rgba(255, 147, 79, 0.5),
          0 0 60px rgba(255, 147, 79, 0.2),
          0 0 90px rgba(255, 147, 79, 0.1),
          inset 0 1px 0 rgba(255, 255, 255, 0.3);
      }
    }
    
    .text-gray-700 {
    --tw-text-opacity: 1;
    color: rgb(98 103 111);
    font-size: 14px;
}
    .floating-element {
      position: absolute;
      border-radius: 50%;
      background: linear-gradient(45deg, #ff934f, #ffb380);
      opacity: 0.6;
    }
    
    .float-1 {
      width: 8px; height: 8px;
      top: 15%; left: 10%;
      animation: float 6s ease-in-out infinite;
    }
    
    .float-2 {
      width: 12px; height: 12px;
      top: 25%; right: 15%;
      animation: float 8s ease-in-out infinite reverse;
      animation-delay: -2s;
    }
    
    .float-3 {
      width: 6px; height: 6px;
      bottom: 30%; left: 20%;
      animation: drift 10s linear infinite;
      animation-delay: -4s;
    }
    
    .float-4 {
      width: 10px; height: 10px;
      top: 60%; right: 25%;
      animation: pulse 4s ease-in-out infinite;
      animation-delay: -1s;
    }
    
    .float-5 {
      width: 14px; height: 14px;
      bottom: 20%; right: 10%;
      animation: sparkle 5s ease-in-out infinite;
      animation-delay: -3s;
    }
    
    .float-6 {
      width: 7px; height: 7px;
      top: 40%; left: 5%;
      animation: drift 12s linear infinite reverse;
    }
    
    .float-7 {
      width: 9px; height: 9px;
      top: 70%; left: 30%;
      animation: float 7s ease-in-out infinite;
      animation-delay: -5s;
    }
    
    .float-8 {
      width: 11px; height: 11px;
      bottom: 40%; right: 30%;
      animation: pulse 6s ease-in-out infinite;
      animation-delay: -2.5s;
    }
    
    .search-container {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border: 2px solid rgba(255, 147, 79, 0.2);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      animation: none;
    }
    
    .search-container:focus-within {
      animation: none;
      border-color: rgba(255, 147, 79, 0.6);
      box-shadow: 
        0 0 40px rgba(255, 147, 79, 0.4),
        0 0 80px rgba(255, 147, 79, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
      transform: translateY(-2px);
    }
    
    .search-input {
      background: transparent;
      border: none;
      outline: none;
      font-size: 16px;
      color: #374151;
    }
    
    .search-input::placeholder {
      color: #9CA3AF;
      font-weight: 300;
    }
    
    .search-button {
      background: linear-gradient(135deg, #ff934f, #ffb380);
      border: none;
      border-radius: 8px;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(255, 147, 79, 0.3);
    }
    
    .search-button:hover {
      background: linear-gradient(135deg, #f97316, #ff934f);
      transform: translateY(-1px);
      box-shadow: 0 6px 16px rgba(255, 147, 79, 0.4);
    }
    
    .search-button:active {
      transform: translateY(0px);
    }
    
    .glass-card {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 147, 79, 0.15);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .glass-card:hover {
      background: rgba(255, 255, 255, 0.9);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(255, 147, 79, 0.15);
      border-color: rgba(255, 147, 79, 0.3);
    }
    
    .description-toggle {
      background: rgba(255, 147, 79, 0.05);
      border: 1px solid rgba(255, 147, 79, 0.15);
      transition: all 0.3s ease;
    }
    
    .description-toggle:hover {
      background: rgba(255, 147, 79, 0.1);
      border-color: rgba(255, 147, 79, 0.25);
    }
    
    .section-card {
      height: 80px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 24px;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }
    
    .section-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 147, 79, 0.1), transparent);
      transition: left 0.6s ease;
    }
    
    .section-card:hover::before {
      left: 100%;
    }
    
    .download-icon {
      opacity: 0.6;
      transition: all 0.3s ease;
      padding: 8px;
      border-radius: 8px;
      background: rgba(255, 147, 79, 0.1);
    }
    
    .download-icon:hover {
      opacity: 1;
      background: rgba(255, 147, 79, 0.2);
      transform: scale(1.1);
    }
    
    .modal-content {
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 147, 79, 0.2);
    }
    
    .chat-response {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 147, 79, 0.2);
      box-shadow: 0 8px 25px rgba(255, 147, 79, 0.1);
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .fade-in-up {
      animation: fadeInUp 0.6s ease-out forwards;
    }
    
    .grid-layout {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(50px, 1fr));
      gap: 16px;
    }
    
    @media (max-width: 768px) {
      .grid-layout {
        grid-template-columns: 1fr;
      }
    }

    .mb-12 {
      margin-bottom: 1rem;
    }

    .max-w-4xl {
      max-width: 52rem;
  }
  .max-w-2xl {
    max-width: 52rem;
  }
  body {
    font-family: inherit;
    line-height: inherit;
    background-color: whitesmoke;
  }

  .w-48 {
    width: 18rem;
  }

  /* Stiluri pentru notificări */
  .notification {
    position: fixed;
    top: 20px;
    right: 20px;
    background: rgba(255, 147, 79, 0.95);
    color: white;
    padding: 16px 24px;
    border-radius: 12px;
    box-shadow: 0 8px 25px rgba(255, 147, 79, 0.3);
    backdrop-filter: blur(12px);
    z-index: 1000;
    transform: translateX(400px);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .notification.show {
    transform: translateX(0);
  }

  .external-link-indicator {
    position: relative;
  }

  .external-link-indicator::after {
    content: '↗';
    position: absolute;
    top: -4px;
    right: -4px;
    font-size: 12px;
    color: #ff934f;
    opacity: 0.7;
  }

  /* Stiluri speciale pentru modalul browser Canva */
  .browser-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(10px);
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
  }

  .browser-modal.active {
    opacity: 1;
    visibility: visible;
  }

  .browser-window {
    width: 95%;
    height: 90%;
    background: #f5f5f5;
    border-radius: 12px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    overflow: hidden;
    transform: scale(0.9);
    transition: transform 0.3s ease;
  }

  .browser-modal.active .browser-window {
    transform: scale(1);
  }

  .browser-header {
    height: 50px;
    background: linear-gradient(135deg, #e5e5e5, #d0d0d0);
    display: flex;
    align-items: center;
    padding: 0 16px;
    border-bottom: 1px solid #c0c0c0;
  }

  .browser-controls {
    display: flex;
    gap: 8px;
    margin-right: 16px;
  }

  .browser-control {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .browser-control.close {
    background: #ff5f56;
  }

  .browser-control.minimize {
    background: #ffbd2e;
  }

  .browser-control.maximize {
    background: #27ca3f;
  }

  .browser-control:hover {
    transform: scale(1.1);
    opacity: 0.8;
  }

  .browser-address-bar {
    flex: 1;
    height: 32px;
    background: white;
    border: 1px solid #d0d0d0;
    border-radius: 6px;
    padding: 0 12px;
    display: flex;
    align-items: center;
    font-size: 14px;
    color: #666;
    font-family: monospace;
  }

  .browser-content {
    height: calc(100% - 50px);
    background: white;
    position: relative;
  }

  .browser-iframe {
    width: 100%;
    height: 100%;
    border: none;
  }

  .loading-indicator {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
    z-index: 10;
  }

  .loading-spinner {
    width: 40px;
    height: 40px;
    border: 4px solid #ff934f;
    border-top: 4px solid transparent;
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  </style>
  <script defer>
async function askChatGPT() {
  const query = document.getElementById("search-input").value;
  if (!query.trim()) return;

  const output = document.getElementById("chatgpt-answer");
  output.textContent = "Se generează răspunsul...";
  output.classList.remove("hidden");

  try {
    const res = await fetch("https://integrare-1-4-2.onrender.com/chat", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({ message: query })
    });

    const data = await res.json();
    console.log("REZ GPT:", data);
    output.textContent = data.reply || "Nu s-a putut obține răspunsul.";
  } catch (e) {
    output.textContent = "Eroare la comunicarea cu ChatGPT.";
    console.error("Eroare fetch:", e);
  }
}

    function downloadPDF(url, filename) {
      const link = document.createElement('a');
      link.href = url;
      link.download = filename;
      link.target = '_blank';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }

    function showNotification(message, type = 'info') {
      const notification = document.createElement('div');
      notification.className = `notification ${type}`;
      notification.textContent = message;
      document.body.appendChild(notification);
      
      setTimeout(() => notification.classList.add('show'), 100);
      
      setTimeout(() => {
        notification.classList.remove('show');
        setTimeout(() => document.body.removeChild(notification), 400);
      }, 3000);
    }

    // Funcție pentru deschiderea modalului browser pentru Canva
    function openCanvaBrowser() {
      const modal = document.getElementById('canva-browser-modal');
      const iframe = document.getElementById('canva-iframe');
      const loadingIndicator = document.getElementById('canva-loading');
      
      // Afișează modalul
      modal.classList.add('active');
      
      // Afișează indicatorul de încărcare
      loadingIndicator.style.display = 'flex';
      
      // Încarcă Canva în iframe
      const canvaUrl = 'https://www.canva.com/design/DAGnz4W251M/vHmC4cY1fa0033PBfHWX8A/view?utm_content=DAGnz4W251M&utm_campaign=designshare&utm_medium=link2&utm_source=uniquelinks&utlId=h1a5d18f1ee';
      iframe.src = canvaUrl;
      
      // Ascunde indicatorul de încărcare după un timp
      setTimeout(() => {
        loadingIndicator.style.display = 'none';
      }, 3000);
      
      showNotification('Canva se încarcă în browser-ul integrat!', 'info');
    }

    // Funcție pentru închiderea modalului browser Canva
    function closeCanvaBrowser() {
      const modal = document.getElementById('canva-browser-modal');
      const iframe = document.getElementById('canva-iframe');
      
      modal.classList.remove('active');
      
      // Oprește încărcarea iframe-ului pentru a economisi resurse
      setTimeout(() => {
        iframe.src = '';
      }, 300);
    }

    // Funcția originală pentru celelalte link-uri (păstrată neschimbată)
    function handleCanvaLink() {
      openCanvaBrowser();
    }
  </script>
</head>
<body class="min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-100 relative overflow-x-hidden">
  <!-- Enhanced floating background animations -->
  <div class="floating-element float-1"></div>
  <div class="floating-element float-2"></div>
  <div class="floating-element float-3"></div>
  <div class="floating-element float-4"></div>
  <div class="floating-element float-5"></div>
  <div class="floating-element float-6"></div>
  <div class="floating-element float-7"></div>
  <div class="floating-element float-8"></div>

  <!-- Header cu logo -->
  <div class="flex items-center px-6 py-4 bg-white/70 backdrop-blur-md">
    <a href="https://www.unitbv.ro/" target="_blank" rel="noopener noreferrer">
      <img src="https://alexzinca.github.io/Integrare-1.4/unitbv.png" alt="Universitatea Transilvania din Brașov" class="w-48 h-auto">
    </a>
  </div>

  <!-- Conținutul principal -->
  <div class="max-w-4xl mx-auto px-6 py-8">
    
    <!-- Titlu principal -->
    <div class="text-center mb-8 fade-in-up">
      <h1 class="text-5xl font-light text-gray-800 mb-3">1.4 CONTRACTELE</h1>
      <div class="w-16 h-0.5 bg-gradient-to-r from-orange-400 to-orange-500 mx-auto"></div>
    </div>

    <!-- Bară de căutare modernă -->
    <div class="mb-12 fade-in-up" style="animation-delay: 0.2s">
      <div class="search-container rounded-xl p-2 max-w-2xl mx-auto">
        <div class="flex items-center gap-4">
          <input 
            id="search-input" 
            type="text" 
            placeholder="Pune o întrebare despre contracte..." 
            class="search-input flex-grow py-2 px-2 text-gray-700"
          >
          <button onclick="askChatGPT()" class="search-button">
            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M5 10l7-7m0 0l7 7m-7-7v18" />
            </svg>
          </button>
        </div>
      </div>
      <div id="chatgpt-answer" class="mt-6 p-6 rounded-xl chat-response text-gray-700 hidden max-w-2xl mx-auto"></div>
    </div>

    <!-- Container principal cu layout grid -->
    <div class="glass-card rounded-2xl p-8 fade-in-up" style="animation-delay: 0.4s">
      
     
      <!-- Secțiuni disponibile -->
      <div>
        <h2 class="text-2xl font-medium text-gray-800 mb-6 text-center"></h2>
        <div class="grid-layout">
          <div class="glass-card rounded-xl overflow-hidden">
            <div class="section-card" onclick="openModal('https://alexzinca.github.io/Integrare-1.4-Echipa/prezentare-SMA/prezentare.html')">
              <h3 class="text-lg font-medium text-gray-800">Secțiuni 1.4-1.4.1</h3>
              <div class="download-icon" onclick="event.stopPropagation(); window.open('https://alexzinca.github.io/Integrare-1.4-Echipa/prezentare-SMA/prezentare.html', '_blank')">
                <svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
                </svg>
              </div>
            </div>
          </div>

          <div class="glass-card rounded-xl overflow-hidden">
            <div class="section-card" onclick="handleCanvaLink()">
              <h3 class="text-lg font-medium text-gray-800 external-link-indicator">Secțiunea 1.4.2</h3>
              <div class="download-icon" onclick="event.stopPropagation(); handleCanvaLink()">
                <svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25" />
                </svg>
              </div>
            </div>
          </div>

          <div class="glass-card rounded-xl overflow-hidden">
            <div class="section-card" onclick="openModal('https://view.officeapps.live.com/op/embed.aspx?src=https://github.com/AlexZinca/Integrare-1.4/raw/main/1_4_3_.pptx')">
              <h3 class="text-lg font-medium text-gray-800">Secțiunea 1.4.3</h3>
              <div class="download-icon" onclick="event.stopPropagation(); downloadPDF('https://github.com/AlexZinca/Integrare-1.4/raw/main/1_4_3_.pptx', 'Secțiunea 1.4.3.pptx')">
                <svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal universal pentru link-urile normale (iframe) -->
  <div id="modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center hidden z-50">
    <div class="modal-content w-11/12 h-5/6 rounded-2xl relative overflow-hidden shadow-2xl">
      <button onclick="closeModal()" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 bg-white/90 backdrop-blur-sm rounded-full w-10 h-10 flex items-center justify-center shadow-lg z-10 transition-all hover:scale-110 font-bold text-xl">×</button>
      <iframe id="modal-frame" class="w-full h-full rounded-2xl" frameborder="0"></iframe>
    </div>
  </div>

  <!-- Modal special tip browser pentru Canva -->
  <div id="canva-browser-modal" class="browser-modal">
    <div class="browser-window">
      <div class="browser-header">
        <div class="browser-controls">
          <div class="browser-control close" onclick="closeCanvaBrowser()"></div>
          <div class="browser-control minimize"></div>
          <div class="browser-control maximize"></div>
        </div>
        <div class="browser-address-bar">
          🔒 canva.com/design/DAGnz4W251M/vHmC4cY1fa0033PBfHWX8A/view
        </div>
      </div>
      <div class="browser-content">
        <div id="canva-loading" class="loading-indicator">
          <div class="loading-spinner"></div>
          <p style="color: #666; font-size: 14px;">Se încarcă Canva...</p>
        </div>
        <iframe id="canva-iframe" class="browser-iframe"></iframe>
      </div>
    </div>
  </div>

  <script>
    function toggleDescription() {
      const content = document.getElementById("description-content");
      const arrow = document.getElementById("arrow-icon");
      content.classList.toggle("hidden");
      arrow.classList.toggle("rotate-180");
    }

    // Funcție pentru modalul normal (păstrată neschimbată)
    function openModal(url) {
      const iframe = document.getElementById('modal-frame');
      const modal = document.getElementById('modal');
      if (!iframe || !modal) {
        console.error('Modal iframe not found.');
        return;
      }
      iframe.src = url;
      modal.classList.remove('hidden');
    }

    function closeModal() {
      const iframe = document.getElementById('modal-frame');
      const modal = document.getElementById('modal');
      if (iframe && modal) {
        iframe.src = '';
        modal.classList.add('hidden');
      }
    }

    // Enhanced keyboard support
    document.getElementById('search-input').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        askChatGPT();
      }
    });

    // Închiderea modalului browser la click pe fundal
    document.getElementById('canva-browser-modal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeCanvaBrowser();
      }
    });

    // Smooth animations on page load
    document.addEventListener('DOMContentLoaded', () => {
      const elements = document.querySelectorAll('.fade-in-up');
      elements.forEach((el, index) => {
        setTimeout(() => {
          el.style.opacity = '1';
          el.style.transform = 'translateY(0)';
        }, index * 200);
      });
    });
  </script>
</body>
</html>